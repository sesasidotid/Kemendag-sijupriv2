<section>
  <div class="row mb-3">
    <label for="" class="col-sm-2 col-form-label fw-bold">Nama Kelas</label>
    <div class="col-sm-10 pt-2">
      <p>: {{ RoomUkomDetail.name }}</p>
    </div>
  </div>

  <div class="row mb-3">
    <label for="name" class="col-sm-2 col-form-label fw-bold">
      Waktu Mulai
    </label>
    <div class="col-sm-10 pt-2">
      <p>: {{ ExamDetail.startTime }}</p>
    </div>
  </div>

  <div class="row mb-3">
    <label for="name" class="col-sm-2 col-form-label fw-bold">
      Waktu Selesai
    </label>
    <div class="col-sm-10 pt-2">
      <p>: {{ ExamDetail.endTime }}</p>
    </div>
  </div>

  <div class="row mb-3">
    <label for="name" class="col-sm-2 col-form-label fw-bold">
      Jenis Ujian
    </label>
    <div class="col-sm-10 pt-2">
      <p>: {{ ExamDetail.examTypeCode }}</p>
    </div>
  </div>
</section>

<section class="mt-5">
  <h5>List Kompetensi</h5>
  <div class="row mb-3" *ngFor="let kompetensi of UkomRoomKompetensi">
    <div class="row mb-3">
      <label for="name" class="col-sm-2 col-form-label fw-bold">
        Kompetensi
      </label>
      <div class="col-sm-10 pt-2">
        <p>: {{ kompetensi.name }}</p>
        <button
          class="btn btn-sm btn-secondary"
          (click)="openModal(kompetensi.id)"
        >
          Choose Questions
        </button>
      </div>
    </div>

    <!-- <button class="btn btn-sm btn-secondary" (click)="openModal(kompetensi.id)">
      Choose Questions
    </button> -->
  </div>
</section>

<section>
  <!-- <div class="mt-5">
    <p>Jumlah Pertanyaan: {{ questCheckedList.length }}</p>
    <button (click)="submit()" class="btn btn-sm btn-success">Simpan</button>
  </div> -->
  <div class="col-lg-12">
    <div class="hstack gap-2 justify-content-end align-items-center">
      <p class="mb-0">Jumlah Pertanyaan: {{ questCheckedList.length }}</p>
      <a class="btn btn-sm btn-success" (click)="submit()">Simpan</a>
    </div>
  </div>
</section>

<app-modal
  *ngIf="isModalOpen$ | async"
  [title]="'Ubah Data Pelatihan Teknis'"
  (toggle)="toggleModal()"
  [enableFooter]="false"
>
  <form>
    <div class="mb-3">
      <input
        type="text"
        placeholder="Search questions..."
        class="form-control"
        [(ngModel)]="filterText"
        (ngModelChange)="onSearchChange($event)"
        [ngModelOptions]="{ standalone: true }"
      />
    </div>

    <div *ngFor="let question of filteredQuestions$ | async">
      <label>
        <input
          type="checkbox"
          [name]="'question-' + question.id"
          [(ngModel)]="question.checked"
          (change)="onQuestionSelect(question)"
          class="form-check-input h4"
        />
        {{ question.question }}
      </label>
    </div>
    <div *ngIf="(filteredQuestions$ | async)?.length === 0">
      No questions found.
    </div>
  </form>
</app-modal>
