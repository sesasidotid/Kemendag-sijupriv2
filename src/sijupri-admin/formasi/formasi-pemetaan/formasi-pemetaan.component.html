<section>
  <button class="btn btn-soft-primary mb-3" (click)="resetMap()">
    Reset Map
  </button>
  <div id="map"></div>
</section>

<div class="mt-3">
  <p class="h3" *ngIf="availableFormation.length > 0">
    Formasi Tersedia Untuk {{ untuK }}
  </p>
  <table class="table table-bordered table-hover">
    <thead class="table-primary">
      <tr>
        <th scope="col">No</th>
        <th scope="col">Name Jabatan</th>
        <th scope="col">Jenjang Jabatan</th>
        <th scope="col">Jumlah Formasi</th>
      </tr>
    </thead>
    <tbody>
      <ng-container *ngFor="let item of availableFormation; let i = index">
        <tr *ngFor="let formasi of item.jenjangSumList; let j = index">
          <td
            *ngIf="j === 0"
            class="align-middle"
            [attr.rowspan]="item.jenjangSumList.length"
          >
            {{ i + 1 }}
          </td>
          <td
            *ngIf="j === 0"
            class="align-middle"
            [attr.rowspan]="item.jenjangSumList.length"
          >
            {{ item.jabatanName }}
          </td>
          <td class="align-middle">{{ formasi.jenjangName }}</td>
          <td class="align-middle">
            {{ formasi.resultSum || 0 }}
          </td>
        </tr>
      </ng-container>

      <tr>
        <td colspan="3" class="align-middle text-center fw-bold">
          Jumlah Formasi yang Tersedia
        </td>
        <td class="align-middle fw-bold">
          {{ getTotalRekapitulasi() }}
        </td>
      </tr>
    </tbody>
  </table>
</div>
